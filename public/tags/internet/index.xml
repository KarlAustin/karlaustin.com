<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Internet on Me &amp; Life</title>
    <link>https://karlaustin.com/tags/internet/index.xml</link>
    <description>Recent content in Internet on Me &amp; Life</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-gb</language>
    <atom:link href="https://karlaustin.com/tags/internet/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Peertools: Automated notification of unsolicited BGP Open requests at peering points</title>
      <link>https://karlaustin.com/post/peertools-automating-notification-of-potential-peers/</link>
      <pubDate>Sat, 04 Mar 2017 18:41:30 +0000</pubDate>
      
      <guid>https://karlaustin.com/post/peertools-automating-notification-of-potential-peers/</guid>
      <description>

&lt;h1 id=&#34;the-problem&#34;&gt;The Problem&lt;/h1&gt;

&lt;p&gt;When you connect to an internet peering exchange, the IP addresses you&amp;rsquo;re given for your interfaces will most likely have been used by someone else prior to you, that has left the exchange.&lt;/p&gt;

&lt;p&gt;This means, because we&amp;rsquo;re not all good at housekeeping, that you&amp;rsquo;ll end up with ISPs trying to open up BGP sessions with your routers and if you&amp;rsquo;re not firewalling them out then you&amp;rsquo;ll end up with a lot of messages about BGP Opens being received from unconfigured neighbours.  If you&amp;rsquo;re firewalling (and you should be) and you&amp;rsquo;re logging you&amp;rsquo;ll end up with a lot of hits logged against port 179.&lt;/p&gt;

&lt;h1 id=&#34;the-solution&#34;&gt;The Solution&lt;/h1&gt;

&lt;p&gt;Ideally you&amp;rsquo;d like everyone to keep their peering neat and tidy, but we&amp;rsquo;re not in an ideal world unfortunately.  So I came up with a tool that will:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Scan your message log for BGP opens from unconfigured neighbours&lt;/li&gt;
&lt;li&gt;Scan your message log for TCP with unexpected MD5&lt;/li&gt;
&lt;li&gt;Scan your firewall log for connections to port 179 that have been dropped&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This catches most instances and you end up with a list of IP address, the system then:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Looks at the peering point data to see what ASN the IP address is assigned to&lt;/li&gt;
&lt;li&gt;Checks PeeringDB for a peering contact for the ASN&lt;/li&gt;
&lt;li&gt;Emails the peering contact based on the email template, which by default shows the peering LAN and IP addresses trying to open sessions&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;what-it-supports-right-now&#34;&gt;What It Supports Right Now&lt;/h1&gt;

&lt;ul&gt;
&lt;li&gt;JunOS 12.x - It may work with other versions of JunOS, but that&amp;rsquo;s what it has been tested with.&lt;/li&gt;
&lt;li&gt;SSH - Key based SSH for connecting to JunOS&lt;/li&gt;
&lt;li&gt;LINX - Currently it is hard coded to work with LINX, The London Internet Exchange.&lt;/li&gt;
&lt;li&gt;PeeringDB - Only PeeringDB is supported at the moment for fetching an AS numbers peering contacts&lt;/li&gt;
&lt;li&gt;Email - Email is the current form of contact&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&#34;what-it-can-support-right-now-if-you-want-to-write-a-module&#34;&gt;What It Can Support Right Now If You Want To Write a Module?&lt;/h1&gt;

&lt;p&gt;The router code is modularised and self contained, so any router or switch can be supported.&lt;/p&gt;

&lt;p&gt;The router class includes what commands to execute to fetch and parse the data in to an IP address.  Additional commands are added in to an array.&lt;/p&gt;

&lt;h1 id=&#34;the-future&#34;&gt;The Future&lt;/h1&gt;

&lt;p&gt;The aim is to make a simple suite of tools for small ISPs without their own staff to better manage their peering relationships.  The next evolution will hopefully add tracking support, so it will log when you last emailed a given peer and allow you to set a time period for them to respond before it emails again.&lt;/p&gt;

&lt;h1 id=&#34;where-can-i-find-it&#34;&gt;Where Can I Find It?&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/KarlAustin/peertools&#34;&gt;https://github.com/KarlAustin/peertools&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The code is currently still a little rough in places, as it was quickly built to deal with the 30 or so IPs hitting our peering routers every few seconds.  So far we&amp;rsquo;ve had a couple of ISPs stop and several agree to peer with us.  Please feel to contribute or comment.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>cPanel - Broken FTPS (FTP over TLS) with Java Clients</title>
      <link>https://karlaustin.com/post/cpanel-ftp-tls-and-the-java-devil/</link>
      <pubDate>Mon, 09 May 2016 00:00:00 +0000</pubDate>
      
      <guid>https://karlaustin.com/post/cpanel-ftp-tls-and-the-java-devil/</guid>
      <description>

&lt;p&gt;If you&amp;rsquo;ve gone to edit your site and suddenly found that your chosen IDE won&amp;rsquo;t connect to upload any more via FTPS (FTP using TLS encryption) and your web host runs cPanel, then chances are they&amp;rsquo;re running v56 and your IDE is written in Java.&lt;/p&gt;

&lt;p&gt;I hit this issue with another website late last week, where the DH params had already been re-generated to 2048 bit, but that change removed.  Your IDE probably just says it can&amp;rsquo;t connect, that&amp;rsquo;s what JetBrains WebStorm and PhpStorm do although the logs did give more information:
&lt;pre&gt;
Caused by: java.security.InvalidAlgorithmParameterException:
Prime size must be multiple of 64, and can only range from 512 to 2048 (inclusive)
&lt;/pre&gt;
NetBeans gave the game away sooner by giving the error from Java about DH parameters.&lt;/p&gt;

&lt;h2 id=&#34;weak-dh-keys&#34;&gt;Weak DH Keys&lt;/h2&gt;

&lt;p&gt;The root cause of the issue is a problem with weak Diffie-Hellman key sizes, widely reported as the Logjam attack.  The recommendation is to move to 2048 bit prime number sizes which sounds brilliant, but then&amp;hellip;.&lt;/p&gt;

&lt;h2 id=&#34;damn-you-java&#34;&gt;Damn you Java&lt;/h2&gt;

&lt;p&gt;Only Java 8 supports 2048bit DH params, v7 supports a maximum of 1024bit.&lt;/p&gt;

&lt;p&gt;The big problem is that Java 8 supports only a &lt;em&gt;maximum&lt;/em&gt; of 2048bit, this is where we hit an issue with cPanel v56.&lt;/p&gt;

&lt;h2 id=&#34;oops-cpanel&#34;&gt;Oops cPanel&lt;/h2&gt;

&lt;p&gt;It seems that on April 20th 2016 cPanel pushed out an update that generated new dhparams for pure-ftpd, but they didn&amp;rsquo;t fully understand the warnings around Java, as they generated 3072 bit DH params, which you can verify with the following command:&lt;/p&gt;

&lt;p&gt;&lt;pre&gt;
openssl dh -in /etc/ssl/private/pure-ftpd-dhparams.pem -text -noout
&lt;/pre&gt;
You&amp;rsquo;ll see output like the following:&lt;/p&gt;

&lt;p&gt;&lt;pre&gt;
Diffie-Hellman-Parameters: (3072 bit)
    prime:
        00:80:26:5e:fe:c9:8e:63:2d:6d:52:3e:ab:4c:49:
        &lt;snip&gt;
&lt;/pre&gt;
As you can see, 3072 bit.&lt;/p&gt;

&lt;h2 id=&#34;fixing-it&#34;&gt;Fixing it&lt;/h2&gt;

&lt;p&gt;Fortunately the fix is easy:&lt;/p&gt;

&lt;p&gt;&lt;pre&gt;
cp /etc/ssl/private/pure-ftpd-dhparams.pem /etc/ssl/private/pure-ftpd-dhparams.pem.bak
openssl dhparam -out /etc/ssl/private/pure-ftpd-dhparams.pem 2048
service pure-ftpd restart
&lt;/pre&gt;
We&amp;rsquo;ve backed up the existing params just in case and generated new ones for pure-ftpd to use.&lt;/p&gt;

&lt;h2 id=&#34;will-it-break-again&#34;&gt;Will it break again?&lt;/h2&gt;

&lt;p&gt;That remains to be seen.  The issue has been reported to cPanel, so hopefully it won&amp;rsquo;t break as we&amp;rsquo;re not just talking a few IDEs here like JetBrains, NetBeans etc. there are also countless ERP systems out there that use Java and a lot of them shuffle files (such as orders, tracking info for shipping) in and out via FTP with their customers and suppliers.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Claiming a Facebook Page - Nightmare!</title>
      <link>https://karlaustin.com/post/facebook-claiming-a-page/</link>
      <pubDate>Sat, 16 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://karlaustin.com/post/facebook-claiming-a-page/</guid>
      <description>

&lt;h1 id=&#34;what-a-pita&#34;&gt;What a PITA&lt;/h1&gt;

&lt;p&gt;I&amp;rsquo;m the technical admin of the 

    
        
    

    &lt;a href=&#34;http://www.whitwellcommunitycentre.com&#34; target=&#39;_blank&#39;&gt;Whitwell Community Centre&lt;/a&gt;

 Facebook page.  Every now and then someone will create a new Facebook Location for the centre and when we spot them, we merge them in to the main page, pretty standard stuff.&lt;/p&gt;

&lt;h2 id=&#34;don-t-make-it-easy-will-you&#34;&gt;Don&amp;rsquo;t make it easy will you?&lt;/h2&gt;

&lt;p&gt;Facebook don&amp;rsquo;t make it easy, this time it has been a right pain.  I tried to merge the location in with the official page, unfortunately the official page wasn&amp;rsquo;t listed int he drop down of pages I could merge it with.&lt;/p&gt;

&lt;p&gt;As an alternative I thought I&amp;rsquo;d just try and claim it as the owner, part of that is adding an email address from the organisation to your profile.  Easy enough right? &lt;em&gt;Oh no&lt;/em&gt;, my email address is in the form of &lt;code&gt;admin@&lt;/code&gt; which Facebook promptly told me isn&amp;rsquo;t a valid email address - which is funny, as I&amp;rsquo;ve been getting email at it for several years now.  So off I pop to configure a different email address, which Facebook then willingly accepts.&lt;/p&gt;

&lt;p&gt;Thinking that this might have changed the merge outcome I have another go, &lt;em&gt;nope&lt;/em&gt;, still not listed in the drop down.&lt;/p&gt;

&lt;p&gt;Facebook do say that the pages need to have similar names (they have exactly the same name) and be of the same type.  Now trying to work out how to get the official page to say just &amp;ldquo;Community Centre&amp;rdquo; is what was fun, it took 30 minutes of experimenting to work that one out, trying different combinations of types and sub-categories. Why I can&amp;rsquo;t just type in &amp;ldquo;Community Centre&amp;rdquo; and it suggest the appropriate options I will never know.&lt;/p&gt;

&lt;h2 id=&#34;arghhhhh&#34;&gt;Arghhhhh&lt;/h2&gt;

&lt;p&gt;Now we have everything matching, the name, the type of organisation and yet it &lt;strong&gt;still&lt;/strong&gt; won&amp;rsquo;t list the official page in the drop down for me to merge it with.&lt;/p&gt;

&lt;p&gt;How a company with so many developers and experts in their field can make such a user hostile system I will never know. It should not be this difficult.&lt;/p&gt;

&lt;h1 id=&#34;final-hope&#34;&gt;Final Hope&lt;/h1&gt;

&lt;p&gt;My final hope is that having added an organisation email address and submitted a claim for admin rights on the page, that I will be able to merge it in with the official page.  &lt;em&gt;Fingers crossed&lt;/em&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>cP1Con Edinburgh</title>
      <link>https://karlaustin.com/post/cp1con-edinburgh/</link>
      <pubDate>Sat, 16 Apr 2016 00:00:00 +0000</pubDate>
      
      <guid>https://karlaustin.com/post/cp1con-edinburgh/</guid>
      <description>

&lt;h1 id=&#34;some-background&#34;&gt;Some Background&lt;/h1&gt;

&lt;p&gt;My day job is providing web hosting, basically lots of computers connected to the internet via the network we run, people then place their websites on the servers so the whole world can see them.&lt;/p&gt;

&lt;p&gt;To make that easier for us and for our customers we have some nice control panel software that allows people to set up their email addresses, their out of office, configure the settings for their website, create databases for their website etc. etc.   That software is 

    
        
    

    &lt;a href=&#34;http://cpanel.com&#34; target=&#39;_blank&#39;&gt;cPanel&lt;/a&gt;

, it&amp;rsquo;s a bit of software we&amp;rsquo;ve been using since late 2000.&lt;/p&gt;

&lt;h1 id=&#34;the-conferences&#34;&gt;The Conferences&lt;/h1&gt;

&lt;p&gt;For the last 10 years cPanel have run an annual conference in the USA, it&amp;rsquo;s where they are based and where most customers are, it&amp;rsquo;s a technical event and a good chance to chat with not only the cPanel team but other hosting companies.  If you&amp;rsquo;re in the UK though it&amp;rsquo;s quite a trek and expense, especially if you&amp;rsquo;re a smaller company.&lt;/p&gt;

&lt;p&gt;This year as well as the main conference they&amp;rsquo;re also doing a series of one day conferences, some in the USA and then some outside of it.  One of those was in Edinburgh on 14th April 2016 and when they&amp;rsquo;re practically in your back yard it&amp;rsquo;d be rude not to go. So we (Dean and me) did.&lt;/p&gt;

&lt;h1 id=&#34;not-london&#34;&gt;Not London&lt;/h1&gt;

&lt;p&gt;Yay for not choosing London, almost everything seems to be in London (with the exception of a few bits in Manchester) when it comes to the internet in the UK.  It might be where most of the infrastructure is, but it doesn&amp;rsquo;t mean that&amp;rsquo;s where all the businesses who own that infrastructure are and it gets a bit boring going to London all the time.  Not everyone was happy at the choice, but I&amp;rsquo;d never been to Scotland before, so the location was a bonus to me.&lt;/p&gt;

&lt;h1 id=&#34;the-day&#34;&gt;The Day&lt;/h1&gt;

&lt;p&gt;The day started with breakfast provided by cPanel at the Sheraton, and&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>